# nostr - 透過中繼轉接器傳輸的筆記和其他資訊
> Notes and Other Stuff Transmitted by Relays

最簡單的開放協議，能夠一次性創建一個抵抗審查的全球「社交」網絡。

它不依賴任何信賴中央伺服器，因此它具有韌性；它基於密碼學密鑰及簽名，因此它是防篡改的；它不依賴P2P技術，因此它能夠運作。

這是一個正在進行中的作業，[歡迎加入 Telegram 群組！](https://t.me/nostr_protocol)

## 如果你不打算閱讀其他內容，以下是其如何運作的簡短摘要：

每個人都運行客戶端。它可以是原生客戶端、Web客戶端等。要發佈內容，您需要撰寫一篇文章，用您的密鑰對其進行簽名，然後將其發送到多個中斷轉接器（由他人或您自己託管的伺服器）。要獲取其他人的更新，您可以向多個轉接器請求是否有關於這些其他人的任何信息。任何人都可以運行轉接器。轉接器結構非常簡潔。它除了接收貼文並轉發給其他人之外甚麼也不做。轉接器不需要被信任。簽名在客戶端上驗證。

[如何開始使用 Nostr](https://github.com/vishalxl/nostr_console/discussions/31)

[Nostr 客戶端功能比較](https://github.com/vishalxl/Nostr-Clients-Features-List/blob/main/Readme.md)

[基於 Nostr 的項目列表](https://github.com/aljazceru/awesome-nostr)

## 需要 Nostr 是因為其他解決方案出現問題：

### Twitter 的問題

- Twitter 有廣告；
- Twitter 使用奇怪的技術讓你上癮；
- Twitter 不顯示您關注的人的實際歷史動態；
- Twitter 封鎖某些人；
- Twitter 隱藏某些人；
- Twitter 有很多詐騙訊息。

### Mastodon 和類似程序的問題

- 使用者身份附加在由第三方控制的域名上；
- 伺服器擁有者可以像 Twitter 一樣封鎖您；伺服器擁有者還可以阻止其他伺服器；
- 在競爭環境中，在伺服器之間遷移是一個後顧之憂，只有伺服器合作才能實現。在失敗的情況下，所有追蹤者都會丟失；
- 運行伺服器不存在明確的激勵措施，因此它們往往是由熱心愛好者及想要將自己的名字與一個很酷的域名連結的人來運行。然後，用戶受到特定個體的專制統治，這通常比 Twitter 等大公司更糟糕，而且用戶無法遷移；
- 由於伺服器往往是業餘人士運行，所以它們經常在一段時間後被廢棄 —— 其效果與封鎖每個人相同；
- 如果每個伺服器所有內容的更新必須透過痛苦地推送（和保存！）至許多其他伺服器，那麼擁有大量伺服器是毫無意義的。此論點基於由於存在大量伺服器，因此往往需要更頻繁將更多數據傳遞到更多地方；
- 對於影片分享的特定案例，ActivityPub 熱衷者意識到從伺服器傳輸影片至其他伺服器是完全不可能的，所以他們決定將影片僅從發佈至它的單個實例中托管，這與 Nostr 方法類似。

### SSB（Secure Scuttlebutt）的問題

- 它沒有太多問題。我認為它很棒。我本來想將其用作基礎來進行此項目，但是
- 因為它沒有考慮成為一個開放協議，所以其協議過於複雜。它只用 JavaScript 編寫，可能是為了快速解決特定問題，然後從此基礎發展而來，因此它具有奇怪且不必要的怪癖，如簽署必須嚴格遵循 [_ECMA-262 6th Edition_](https://www.ecma-international.org/ecma-262/6.0/#sec-json.stringify) 規則的 JSON 字符串；
- 它堅持需要來自單個用戶的更新鏈，我認為這是不必要的，它增加了贅餘和僵硬的東西 —— 每個伺服器/用戶都需要存儲所有貼文鏈以確保新貼文有效。為甚麼？（也許他們有一個好的理由）；
- 它不像 Nostr 那麼簡潔，因為它主要用於 P2P 同步，「pubs」是一個次要考慮的問題；
- 儘管如此，仍然值得考慮改用 SSB 而不是這個自定義協議，並將其適應於客戶端-中繼轉接器模型，因為重複使用標準始終比嘗試讓人們使用新標準好。

### 其他需要每個人運行自己伺服器的解決方案的問題

- 它們要求每個人都運行自己的伺服器；
- 有時人們仍然可能會在其中被審查，因為域名可能會受到審查。

## Nostr 如何運作？

- 有兩個組件：**客戶端** 和 **中繼轉接器**。每個用戶都運行客戶端。任何人都可以運行中繼轉接器。
- 每個用戶都由公共密鑰識別。每個貼文都經過簽署。每個客戶端都驗證這些簽名。
- 客戶端從其選擇的中繼轉接器提取數據並將數據發佈到其選擇的其他中繼轉接器。一個中繼轉接器不與另一個中繼轉接器通信，僅直接與用戶通信。
- 例如，要「關注」某人，用戶只需指示其使用者介面（應用程式）向其所知的中繼轉接器查詢來自該公共密鑰的貼文。
- 在啟動時，使用者介面會從其所知道的所有中繼轉接器中查詢所有其正在關注的用戶的數據（例如，從最近一天開始的所有更新），然後按時間順序向用戶顯示該數據。
- 「貼文」可以包含任何形式的結構化數據，但最常用的數據將在標準中找到其位置，因此所有使用者介面和中繼轉接器都可以無縫處理它們。

## 它如何解決上述網絡無法解決的問題？

- **用戶被禁止及轉接器被關閉**
  - 中繼轉接器可以阻止用戶透過它發佈任何內容，但對用戶沒有任何影響，因為用戶仍然可以發佈至其他中繼轉接器。由於用戶由公共密鑰識別，因此當他們被禁止時，他們不會失去自己的身份和追隨者基礎。
  - 除了要求用戶手動輸入新的中繼轉接器地址（雖然這也應得到支持）外，如果你正在關注的某人發佈轉接器建議，則使用者介面應自動將其添加到它將查詢的中繼轉接器列表中。
  - 如果有人使用中繼轉接器發佈其數據，但想遷移到另一個中繼轉接器，則可以向該先前的中繼轉接器發佈轉接器建議，然後再移動；
  - 如果某個人被多個中繼轉接器封鎖，以至於他們無法廣播其轉接器建議，他們仍然可以通過其他方式告訴朋友他們現在正在透過哪個中繼轉接器發佈。然後，這些朋友可以向新轉接器發佈轉接器建議，與時俱進，被封鎖的用戶的舊追隨者群將開始從新的中繼轉接器中找到他們的貼文。
  - 以上所有內容也適用於中繼轉接器停止運營的情況。

- **對審查的抗爭**
  - 每個用戶可以將其更新資訊發佈到任意數量的中繼轉接器上。
  - 中繼轉接器可以向用戶收取費用（目前協商該費用的金額外部協議），以確保它們不會受到審查（總會有一些願意接受你的錢以提供服務的俄羅斯轉接器）。

- **詐騙訊息**
  - 若詐騙訊息對中繼轉接器造成威脅，它可以要求用戶支付發佈費用或其他形式的驗證，例如電子郵件地址或手機號碼，並在內部與一個公共密鑰相聯，然後該公共密鑰就可以發佈到該中繼轉接器上 - 或者其他抗詐騙訊息技術，例如雜湊現金演算法或驗證碼。如果特定中繼轉接器被用作詐騙訊息媒介，透過使用者介面可以輕鬆將其從列表中刪除，並繼續從其他中繼轉接器獲取更新。

- **數據存儲**
  - 為了保持網絡健康，並不需要數百個活躍的中繼轉接器。實際上，只有幾個轉接器也可以運作得很好，因為在現有的中繼轉接器開始運作不當的情況下，新的中繼轉接器可以很容易地在網絡中創建並傳播。因此，總體而言，所需的數據存儲量相對於 Mastodon 或類似軟件來說相對較少。
  - 或者考慮另一種情況：存在數百個業餘運營的小型中繼轉接器，每個中繼轉接器都中繼來自一小組用戶的更新。該體系結構同樣可擴展：數據從用戶發送到單個伺服器，然後從該伺服器直接傳送給將要消費該數據的用戶。它不需要由任何其他人存儲。在這種情況下，任何單個伺服器處理來自其他用戶的更新都不是什麼大負擔，並且擁有業餘伺服器不是問題。

- **影片和其他重型內容**
  - 中繼轉接器可以輕鬆拒絕大型內容，或收取費用以接受和托管大型內容。當信息和激勵措施清晰時，市場力量可以輕鬆解決問題。

- **欺騙用戶的技術**
  - 每個使用者介面都可以決定如何最好地向用戶顯示貼文，因此始終有選擇按您想要的方式消耗內容的選項 - 從使用人工智能來決定您將看到的更新的順序，到按時間順序閱讀它們。

## 常見問題 FAQ

- **這很簡單。為甚麼以前沒有人這樣做？**

    我不知道，但我想這可能與製作社交網絡的人要麼是想賺錢的公司、要麼是想完全不使用伺服器的P2P活動分子有關。他們都未能看到Nostr使用的兩個世界的具體結合。

- **我如何找到要關注的人？**

    首先，您必須知道他們，並以某種方式獲得他們的公共密鑰，可以通過請求或在某個地方看到它們的引用來獲取。一旦進入Nostr社交網絡，您就可以看到他們與其他人的互動，然後您也可以開始關注和與其他人互動。

- **我如何找到中繼轉接器？如果我與其他人未連接到同一個中繼轉接器會發生甚麼？**

    您將無法與該人進行通信。但是，有關事件的提示可以用作您的使用者介面應用程式（或您手動）知道如何連接到另一個人的中繼轉接器並與其互動。未來還有其他解決此問題的想法，但我們無法保證完美的可達性，沒有協議可以實現這一點。

- **我可以知道有多少人在關注我嗎？**

    不行，但如果中繼轉接器在協議之外合作，您可以得到一些估計。

- **運營中繼轉接器的人有甚麼動機？**

    這個問題很具有誤導性。它假定中繼轉接器是免費的傻瓜管道，存在只是為了讓人們通過它們傳輸數據。在這種情況下，是的，激勵措施是不存在的。事實上，這可以說是所有其他P2P網絡堆棧中DHT節點的情況：有甚麼激勵措施可以讓人們運營DHT節點？

- **Nostr使您能夠在伺服器中繼之間移動或使用多個中繼，但如果這些中繼只是在AWS或Azure上，有甚麼不同嗎？**

    今天全球有數千家VPS提供商，不僅是AWS或Azure。AWS或Azure是單一集中服務提供商使用的提供商，需要大量規模，即使這樣也不僅僅是這兩個。對於小型中繼轉接器，任何VPS都可以很好地完成工作。

## 協議規範

請參閱[NIPs](https://github.com/nostr-protocol/nips)和特別是[NIP-01](https://github.com/nostr-protocol/nips/blob/master/01.md)，其中對協議規範進行了相當詳細的解釋（提示：非常簡短和簡單）。

## 軟件

有一個正在使用Nostr構建的軟件列表，可在 https://github.com/aljazceru/awesome-nostr 上查看，上次我看到它時，它似乎幾乎是完整的。

## 許可

公共領域。
